<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>无标题文档</title>
<link href="../../../resources/system/css/base.css" rel="stylesheet" type="text/css">
<link href="../../../resources/system/css/demand.css" rel="stylesheet" type="text/css">
<script src="../../../resources/commons/js/jquery-1.8.3.min.js"></script>
<script src="../../../resources/commons/js/layer/layer.js"></script>
<script src="../../../resources/system/js/base.js"></script>
<style type="text/css">
.typeIn{margin:20px; position:relative;}
.leftType a{color:#48B0FD; margin-left:6px;}
.leftType{width:274px; position:absolute; left:0; top:0; border:solid 1px #DFDFDF; padding-bottom:50px;}
.rightType{left:296px; right:0; position:absolute;}
.leftType dt{height:30px; line-height:30px; padding:0 10px; border-bottom:solid 1px #dfdfdf; font-size:14px; position:relative; margin-bottom:10px;}
.leftType dt a{font-size:12px; right:10px; top:0; position:absolute;}
.leftType li{margin:0 8px; padding:0 10px; height:30px; line-height:30px; border-bottom:solid 1px #dfdfdf;}
.leftType li .name{float:left; white-space:nowrap;}
.leftType li .link{float:right; white-space:nowrap;}
.leftType li .name input{display:block; float:left; margin:9px 6px 0 0;}
.box120{width:116px;}
.ht_list .typeList td a{color:#48B0FD; opacity:1!important;}
</style>
</head>

<body>
<div class="typeIn">
    <dl class="leftType">
        <dt>品类 <a href="javascript:void(0);" class="addType">增加</a></dt>
        <dd>
            <li>
                <span class="name"><label><input name="typeName1" type="radio" value=""><em>贵金属</em></label></span>
                <span class="link">
                    <a href="javascript:void(0);" class="bianjiLink">编辑</a>
                    <a href="javascript:void(0);" class="delLink">删除</a>
                </span>
            </li>
            <li>
                <span class="name"><label><input name="typeName1" type="radio" value=""><em>贵金属2</em></label></span>
                <span class="link">
                    <a href="javascript:void(0);" class="bianjiLink">编辑</a>
                    <a href="javascript:void(0);" class="delLink">删除</a>
                </span>
            </li>
            <li>
                <span class="name"><label><input name="typeName1" type="radio" value=""><em>贵金属3</em></label></span>
                <span class="link">
                    <a href="javascript:void(0);" class="bianjiLink">编辑</a>
                    <a href="javascript:void(0);" class="delLink">删除</a>
                </span>
            </li>
            <li>
                <span class="name"><label><input name="typeName1" type="radio" value=""><em>贵金属4</em></label></span>
                <span class="link">
                    <a href="javascript:void(0);" class="bianjiLink">编辑</a>
                    <a href="javascript:void(0);" class="delLink">删除</a>
                </span>
            </li>
            <li>
                <span class="name"><label><input name="typeName1" type="radio" value=""><em>贵金属5</em></label></span>
                <span class="link">
                    <a href="javascript:void(0);" class="bianjiLink">编辑</a>
                    <a href="javascript:void(0);" class="delLink">删除</a>
                </span>
            </li>
            <li>
                <span class="name"><label><input name="typeName1" type="radio" value=""><em>贵金属6</em></label></span>
                <span class="link">
                    <a href="javascript:void(0);" class="bianjiLink">编辑</a>
                    <a href="javascript:void(0);" class="delLink">删除</a>
                </span>
            </li>
            <li>
                <span class="name"><label><input name="typeName1" type="radio" value=""><em>贵金属7</em></label></span>
                <span class="link">
                    <a href="javascript:void(0);" class="bianjiLink">编辑</a>
                    <a href="javascript:void(0);" class="delLink">删除</a>
                </span>
            </li>
            <li>
                <span class="name"><label><input name="typeName1" type="radio" value=""><em>贵金属8</em></label></span>
                <span class="link">
                    <a href="javascript:void(0);" class="bianjiLink">编辑</a>
                    <a href="javascript:void(0);" class="delLink">删除</a>
                </span>
            </li>
        </dd>
    </dl>
    <div class="rightType">
        <div class="ht_list">
            <table cellpadding="0" cellspacing="0" border="0" class="typeList">
                <tr>
                    <th width="4%">全选</th>
                    <th width="28%">品名</th>
                    <th width="24%">规格</th>
                    <th width="24%">计价单位</th>
                    <th width="20%"><a href="javascript:void(0);" class="addLine">增加分类</a></th>
                    <th></th>
                </tr>
                <tr>
                    <td><input name="" type="checkbox" value=""></td>
                    <td class="edItem">碳24</td>
                    <td class="edItem">99.99%</td>
                    <td class="edItem">元/克</td>
                    <td class="cz">
                        <a href="javascript:void(0);" class="bianjiLine">编辑</a>
                        <a href="javascript:void(0);" class="delLine">删除</a>
                    </td>
                </tr>
                <tr>
                    <td><input name="" type="checkbox" value=""></td>
                    <td class="edItem">碳32</td>
                    <td class="edItem">99.98%</td>
                    <td class="edItem">元/吨</td>
                    <td class="cz">
                        <a href="javascript:void(0);" class="bianjiLine">编辑</a>
                        <a href="javascript:void(0);" class="delLine">删除</a>
                    </td>
                </tr>
                <tr>
                    <td><input name="" type="checkbox" value=""></td>
                    <td class="edItem">碳24</td>
                    <td class="edItem">99.99%</td>
                    <td class="edItem">元/克</td>
                    <td class="cz">
                        <a href="javascript:void(0);" class="bianjiLine">编辑</a>
                        <a href="javascript:void(0);" class="delLine">删除</a>
                    </td>
                </tr>
                <tr>
                    <td><input name="" type="checkbox" value=""></td>
                    <td class="edItem">碳24</td>
                    <td class="edItem">99.99%</td>
                    <td class="edItem">元/克</td>
                    <td class="cz">
                        <a href="javascript:void(0);" class="bianjiLine">编辑</a>
                        <a href="javascript:void(0);" class="delLine">删除</a>
                    </td>
                </tr>
                <tr>
                    <td><input name="" type="checkbox" value=""></td>
                    <td class="edItem">碳24</td>
                    <td class="edItem">99.99%</td>
                    <td class="edItem">元/克</td>
                    <td class="cz">
                        <a href="javascript:void(0);" class="bianjiLine">编辑</a>
                        <a href="javascript:void(0);" class="delLine">删除</a>
                    </td>
                </tr>
                <tr>
                    <td><input name="" type="checkbox" value=""></td>
                    <td class="edItem">碳24</td>
                    <td class="edItem">99.99%</td>
                    <td class="edItem">元/克</td>
                    <td class="cz">
                        <a href="javascript:void(0);" class="bianjiLine">编辑</a>
                        <a href="javascript:void(0);" class="delLine">删除</a>
                    </td>
                </tr>
                <tr>
                    <td><input name="" type="checkbox" value=""></td>
                    <td class="edItem">碳24</td>
                    <td class="edItem">99.99%</td>
                    <td class="edItem">元/克</td>
                    <td class="cz">
                        <a href="javascript:void(0);" class="bianjiLine">编辑</a>
                        <a href="javascript:void(0);" class="delLine">删除</a>
                    </td>
                </tr>
                <tr>
                    <td><input name="" type="checkbox" value=""></td>
                    <td class="edItem">碳24</td>
                    <td class="edItem">99.99%</td>
                    <td class="edItem">元/克</td>
                    <td class="cz">
                        <a href="javascript:void(0);" class="bianjiLine">编辑</a>
                        <a href="javascript:void(0);" class="delLine">删除</a>
                    </td>
                </tr>
            </table>
            <table cellpadding="0" cellspacing="0" border="0" id="addLine" style="display:none;">
            	<tr>
                    <td><input name="" type="checkbox" value=""></td>
                    <td class="edItem"><input name="" type="text" class="i_bg box120"></td>
                    <td class="edItem"><input name="" type="text" class="i_bg box120"></td>
                    <td class="edItem"><input name="" type="text" class="i_bg box120"></td>
                    <td class="cz">
                        <a href="javascript:void(0);" class="saveLine">保存</a>
                        <a href="javascript:void(0);" class="delLine">删除</a>
                    </td>
                </tr>
            </table>
            <div class="ht_pageBox">
                <div class="ht_page_l">
                    <a href="javascript:void(0);" class="btn">全选</a>
                    <a href="javascript:void(0);" class="btn">删除</a>
                </div>
                <div class="ht_page">
                    <a href="javascript:void(0);" class="btn">&lt;&lt;</a>
                    <a href="javascript:void(0);" class="btn">&lt;</a>
                    <a href="javascript:void(0);" class="btn">1</a>
                    <a href="javascript:void(0);" class="btn">2</a>
                    <a href="javascript:void(0);" class="btn cur">3</a>
                    <a href="javascript:void(0);" class="btn">4</a>
                    <a href="javascript:void(0);" class="btn">5</a>
                    <a href="javascript:void(0);" class="btn">&gt;</a>
                    <a href="javascript:void(0);" class="btn">&gt;&gt;</a>
                </div>
            </div>
        </div>
    </div>
    <div class="clear"></div>
</div>
<script>
$(document).ready(function () {
	//左侧分类编辑
	$(".bianjiLink").live("click",function(){
		var obj=$(this).parents("li").find("em");
		var data=obj.text();
		layer.config({
			extend: 'extend/layer.ext.js'
		});
		layer.ready(function () {
			layer.prompt({
				title: '品类编辑',
				value: data,
				formType: 0
			}, function (str,index) {
				obj.text(str);
				layer.close(index);
			});
		});
	})
	
	//左侧新增分类
	$(".addType").live("click",function(){
		layer.config({
			extend: 'extend/layer.ext.js'
		});
		layer.ready(function () {
			layer.prompt({
				title: '品类新增',
				formType: 0
			}, function (str,index) {
				var itemHtml='<li><span class="name"><label><input name="typeName1" type="radio" value=""><em>'+str+'</em></label></span><span class="link"><a href="javascript:void(0);" class="bianjiLink">编辑</a> <a href="javascript:void(0);" class="delLink">删除</a></span></li>'
				$(".leftType dd").append(itemHtml);
				layer.close(index);
			});
		});
	})
	
	//左侧删除分类
	$(".delLink").live("click",function(){
		var obj=$(this);
		layer.confirm('确定删除吗', {btn:['确定','取消']},function(index){ //不设置btn将默认为确定和取消两个按钮
			obj.parents("li").remove();//点击确定执行的语句
			layer.close(index);
		},function(){
			//点击取消执行的语句
		});
	})
	
	
	//右侧分类编辑
	$(".bianjiLine").live("click",function(){
		var objs=$(this).parents("tr").children(".edItem");
		objs.each(function(index) {
            var value=$(this).text();
			$(this).html('<input name="" type="text" class="i_bg box120">');
			$(this).find(".i_bg").val(value);
        });
		$(this).text("保存").addClass("saveLine").removeClass("bianjiLine");
	})
	
	$(".saveLine").live("click",function(){
		var objs=$(this).parents("tr").find(".i_bg");
		for(i=0;i<objs.length;i++){
			var data=objs.eq(i).val();
			if(data==""||data==null){
				layer.alert("参数不能为空！",{title:"信息提示",icon:2});
				return false;
			}
			objs.eq(i).parent().html(data);
		}
		$(this).text("编辑").addClass("bianjiLine").removeClass("saveLine");
	})
	
	//右侧新增分类
	$(".addLine").live("click",function(){
		var line=$("#addLine tbody").html();
		$(".typeList tbody").append(line);
	})
	
	//右侧删除分类
	$(".delLine").live("click",function(){
		var obj=$(this);
		layer.confirm('确定删除吗', {btn:['确定','取消']},function(index){ //不设置btn将默认为确定和取消两个按钮
			obj.parents("tr").remove();//点击确定执行的语句
			layer.close(index);
		},function(){
			//点击取消执行的语句
		});
	})
});
</script>
</body>
</html>
